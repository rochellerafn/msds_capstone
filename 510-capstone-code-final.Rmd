---
title: "510 MSDS Captone Code 2"
author: "Rochelle Rafn"
date: '2022-07-24'
output: html_document
---

```{r setup, include=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(tidytext)
library(ggplot2)
library(skimr)
library(devtools)
library(visdat)
library(dplyr)

articles <- read.csv('/Users/rochellerafn/RStudio Files/h-and-m-personalized-fashion-recommendations/articles.csv')
customers <- read.csv('/Users/rochellerafn/RStudio Files/h-and-m-personalized-fashion-recommendations/customers.csv')
transactions <- read.csv('/Users/rochellerafn/RStudio Files/h-and-m-personalized-fashion-recommendations/transactions_train.csv')
```

```{r}
articles <- articles %>%
  mutate(article_id = as.character(article_id)) %>%
  select(-product_code, -product_type_no, -graphical_appearance_no, -colour_group_code, -perceived_colour_master_id, -department_no, -index_code, -index_group_no, -index_group_no, -garment_group_no, -perceived_colour_value_id, -section_no)

str(articles)
```

```{r}
customers <- customers %>%
  mutate(customer_id = as.character(customer_id)) %>%
  filter(!is.na(age), club_member_status == "ACTIVE") %>%
  select(-FN, -fashion_news_frequency)

customers[["Active"]][is.na(customers[["Active"]])] <- 0

str(customers)
```

```{r}
transactions <- transactions %>%
  mutate(article_id = as.character(article_id), customer_id = as.character(customer_id), t_dat = as.Date(t_dat)) %>%
  filter(!is.na(price))

str(transactions)
```

```{r}
ggplot(customers, aes(age))+
  geom_bar(fill = 'black')+
  theme_bw()+
  xlim(15, 80)
```

```{r}
library(skimr)
skim(customers)
```


```{r}
# Number of total customers in data set
length(unique(customers$customer_id))
```

```{r}
young_customers <- customers %>%
  filter(age <= 39)

str(young_customers)
```

```{r}
ggplot(young_customers, aes(age))+
  geom_bar(fill="black")+
  theme_bw()
```


```{r}
mature_customers <- customers %>%
  filter(age >= 40)

str(mature_customers)
```

```{r}
ggplot(mature_customers, aes(age))+
  geom_bar(fill="black")+
  theme_bw()+
  xlim(39,80)
```

```{r}
summary(young_customers)
```

```{r}
summary(mature_customers)
```

```{r}
mature_transactions <- 
```



