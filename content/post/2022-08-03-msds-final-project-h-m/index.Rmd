---
title: "MSDS Final Project - H&M"
author: "Rochelle Rafn"
date: "2022-08-03"
slug: "msds-final-project-h-m"
categories: []
tags: []
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
```

# 50 year olds shopping at H&M? What’s that all about? 

## Question

For those who are unfamiliar with H&M, it’s a fast fashion retailer known for its affordable, youthful and trendy styles. My whole life I have been into fashion and who knows? Maybe when I’m 50 I will still be shopping at H&M or similar stores, like Zara. However, even in my 30s, if I venture into H&M I feel noticeably older than everyone else there. So, why are there twice as many 50 year olds as people my age and where are they? This lead me to question, does age actually matter for trendy stores like H&M that are perceived as 'younger'? Are the different generational age groups actually purchasing different things? Spoiler alert, they are not. So what does this mean? Who are these 50 year olds and why are their purchase habits similar to the 20 somethings? 


## Context

The importance of these questions lies within the realm of demographics and marketing. Traditionally we believe that location, age, gender all matter and make a difference. And… they do. But, context is everything. In order to make appropriate and informed decisions it is important to do proper analysis to make sure we’re not assuming something about someones age or gender that ends up being incorrect. For instance, is frequent shopper purchasing these things for themselves or someone else? That is the beauty of data. We can dive in the deep end and really see what is beneath the surface of human bias. 


## Summary

I started this project with a very different question in mind. However, after starting at the broadest level questions, my motivation changed. I chose to begin with the age distribution of all the customers in the dataset. I really only did this to verify my own assumption that it would peak somewhere in the mid 20s and then continue to taper off as age increased. I was definitely surprised to see this somewhat bimodal distribution with a second peak around 52 years old. I remember thinking, “What?? That is so bizarre.” Twice as many 50 somethings as 30 somethings seemed just... wrong. 

```{r} 
library(ggplot2)
customers <- read.csv('/Users/rochellerafn/RStudio Files/h-and-m-personalized-fashion-recommendations/customers.csv') 

ggplot(customers, aes(age))+
  geom_bar(fill = 'black')+
  theme_bw()+
  xlim(15, 80)
```


My immediate thought was that it is a group of ‘young at heart’ and fashion conscious 50 year olds. Then, as I looked a little closer at the distribution I did the math and realized the peaks moved at very similar shapes within about 30 years of each other. That logically seems pretty close to a parent-child age gap. Leading me to question, who are they actually buying for? My assumption is if the 50 year olds are actually purchasing for their children, the items would be virtually the same. If they are actually purchasing for themselves, I should be able to find some key indicators to predict age.


## Data Description

The data set I’m analyzing comes directly from H&M spanning 1.3 million customers (ages 16-99), 53 online markets, 4,850 retail stores and 31 million transactions over 2 years. It came with three relational data frames with details on Customers, Articles (clothing items) and Transactions. 


## Exploratory Data Analysis

Given the question and data that I have, I decided to make age, or age group, the outcome variable. How can we predict the difference between the young and mature generations? Or can we at all? To start, I split the data into the two age groups, “young” (<=39) and “mature” (>=40). This is where I would start my exploratory analysis to see what differences I could find. 

I began with the most obvious, what are the most popular items in each age group? Hoping this might show me any key differences. As we can see here, the top 3 items for both age groups are identical. However, the fourth item is different. This piqued my interest since that fourth items seems to indicate an intuitive generational difference. Mature customers purchased a basic t-shirt, where the young customers purchased a "strappy cropped" top. However, the more I dug, the less significant this difference became.

### Mature Top Items
![](images/MATURE_top_items.jpg)

### Young Top Items
![](images/YOUNG_top_items.jpg)



### What are the most popular unique items in each age group?
From the top items per group, I filtered down even further. I chose to compare the purchases between the two groups to find unique items. What items did the young purchase that the mature did not, and vice versa?   

### Mature Unique Items
![](images/MATURE_unique_items.jpg)

### Young Unique Items
![](images/YOUNG_unique_items.jpg)


I started to get a little excited again when I found some interesting differences between the two groups. In the top items for the young group there were several baby items. But then the mature group had primarily items that would be appropriate for an adult child. What if each group potentially purchases for themselves and their children. For the mature it would make sense becaue they now have adult children, meaning they would have no need to purchase baby clothes. However, when I pulled the counts for these top items each was only purchased at most 86 times out of more than 21million items purchased. Unfortunately the math here is not significant enough to consider.


### What are the top descriptive words for the unique items in each age group?
To move forward with the theme of unique items I decided to take those unique items even deeper by analyzing the descriptive words of these items. As I had guessed, the unique items really did not hold any significance due to the small amount. Also, even though the items are different, there are still many purchases by both groups that have the same descriptive words despite the specific item differing.

### Young Top Word Count 
```{r}
library(tidyverse)

young_wordcounts <- read.csv('/Users/rochellerafn/RStudio Files/h-and-m-personalized-fashion-recommendations/young_wordcounts') %>%
  select(-X)

head(young_wordcounts, 10)
```

### Mature Top Word Count
```{r}
mature_wordcounts <- read.csv('/Users/rochellerafn/RStudio Files/h-and-m-personalized-fashion-recommendations/mature_wordcounts') %>%
  select(-X)

head(mature_wordcounts, 10)
```

### Mature Top Words


### Young Top Words



## What about percentage of descriptive words?
Knowing that there are about twice as many in the young group as the mature group I thought I would go one step further and check proportion of the popularity. Still appears that there are no major and obvious differences.
```{r}
all_graphic_pct <- read.csv('/Users/rochellerafn/RStudio Files/h-and-m-personalized-fashion-recommendations/all_graphic_pct')

head(all_graphic_pct)
```


### Is there a noticeable difference in graphic appearance for each age group?
When analyzing the number of items with certain graphical appearances it is almost eerie how mirror like the purchasing habits are. Besides two variables, they move at extremely similar rates.



### What is the summary of price per age group?
```{r}
mature_transactions <- read.csv('/Users/rochellerafn/RStudio Files/h-and-m-personalized-fashion-recommendations/mature_transactions')
young_transactions <- read.csv('/Users/rochellerafn/RStudio Files/h-and-m-personalized-fashion-recommendations/young_transactions')

summary(mature_transactions$price)
summary(young_transactions$price)
```


### How many items are each group purchasing per transaction?
```{r}
summary(mature_transactions$n_items)
summary(young_transactions$n_items)
```

